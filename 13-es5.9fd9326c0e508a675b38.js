!function(){function n(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function i(n,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{T9iC:function(e,a,o){"use strict";o.r(a),o.d(a,"SignupModule",(function(){return K}));var r=o("ofXK"),t=o("3Pt+"),s=o("tyNb"),u=o("fXoL"),b=o("IYfF"),c=o("zy28");function m(n,i){1&n&&u.Ib(0,"app-loading-spinner")}function l(n,i){if(1&n&&(u.Kb(0,"p"),u.bc(1),u.Jb()),2&n){var e=u.Tb();u.xb(1),u.cc(e.errorMsg)}}function p(n,i){1&n&&(u.Kb(0,"span"),u.bc(1,"Please enter your name!"),u.Jb())}function d(n,i){1&n&&(u.Kb(0,"span"),u.bc(1,"Please enter a valid email!"),u.Jb())}function f(n,i){1&n&&(u.Kb(0,"span"),u.bc(1,"The password should be between 8 and 30 symbols!"),u.Jb())}function g(n,i){1&n&&(u.Kb(0,"span"),u.bc(1,"The passwords do not match!"),u.Jb())}var v,h,w=((v=function(){function e(i,a,o){n(this,e),this.authService=i,this.router=a,this.formBuilder=o,this.errorMsg=null,this.isLoading=!1}var a,o,r;return a=e,(o=[{key:"ngOnInit",value:function(){this.signupForm=this.formBuilder.group({name:new t.c(null,[t.j.required,t.j.minLength(3),t.j.maxLength(30)]),email:new t.c(null,[t.j.required,t.j.email]),password:new t.c(null,[t.j.required,t.j.minLength(8),t.j.maxLength(30)]),confirmPass:new t.c(null,[t.j.required,t.j.minLength(8),t.j.maxLength(30)])},{validator:this.mustMatch("password","confirmPass")})}},{key:"mustMatch",value:function(n,i){return function(e){var a=e.controls[i];a.setErrors(e.controls[n].value!==a.value?{mustMatch:!0}:null)}}},{key:"onSubmit",value:function(n){var i=this;if(this.isLoading=!0,!n.valid)return this.isLoading=!1,void(this.isLoading=!1);var e=n.value.name,a=n.value.email;this.authService.signUp(a,n.value.password).subscribe((function(){i.authService.signUpAdditionalData(e,a).subscribe(),i.errorMsg=null,i.router.navigate(["/home"]),i.isLoading=!1}),(function(n){i.errorMsg=n,i.isLoading=!1}))}}])&&i(a.prototype,o),r&&i(a,r),e}()).\u0275fac=function(n){return new(n||v)(u.Hb(b.a),u.Hb(s.c),u.Hb(t.b))},v.\u0275cmp=u.Bb({type:v,selectors:[["app-signup"]],decls:27,vars:9,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["for","name"],["type","text","name","name","formControlName","name"],["for","email"],["type","text","name","email","formControlName","email"],["for","password"],["type","password","name","password","formControlName","password"],["for","confirmPass"],["type","password","name","confirmPass","formControlName","confirmPass",3,"className"],["type","submit",3,"disabled"]],template:function(n,i){1&n&&(u.Kb(0,"div"),u.ac(1,m,1,0,"app-loading-spinner",0),u.ac(2,l,2,1,"p",0),u.Kb(3,"form",1),u.Rb("ngSubmit",(function(){return i.onSubmit(i.signupForm)})),u.Kb(4,"div"),u.Kb(5,"label",2),u.bc(6,"Name"),u.Jb(),u.Ib(7,"input",3),u.ac(8,p,2,0,"span",0),u.Jb(),u.Kb(9,"div"),u.Kb(10,"label",4),u.bc(11,"Email"),u.Jb(),u.Ib(12,"input",5),u.ac(13,d,2,0,"span",0),u.Jb(),u.Kb(14,"div"),u.Kb(15,"label",6),u.bc(16,"Password"),u.Jb(),u.Ib(17,"input",7),u.ac(18,f,2,0,"span",0),u.Jb(),u.Kb(19,"div"),u.Kb(20,"label",8),u.bc(21,"Confirm Password"),u.Jb(),u.Ib(22,"input",9),u.ac(23,g,2,0,"span",0),u.Jb(),u.Kb(24,"div"),u.Kb(25,"button",10),u.bc(26,"Signup"),u.Jb(),u.Jb(),u.Jb(),u.Jb()),2&n&&(u.xb(1),u.Ub("ngIf",i.isLoading),u.xb(1),u.Ub("ngIf",i.errorMsg),u.xb(1),u.Ub("formGroup",i.signupForm),u.xb(5),u.Ub("ngIf",!i.signupForm.get("name").valid&&i.signupForm.get("name").touched),u.xb(5),u.Ub("ngIf",!i.signupForm.get("email").valid&&i.signupForm.get("email").touched),u.xb(5),u.Ub("ngIf",!i.signupForm.get("password").valid&&i.signupForm.get("password").touched),u.xb(4),u.Ub("className",!i.signupForm.get("confirmPass").valid&&i.signupForm.get("confirmPass").dirty?"invalid":""),u.xb(1),u.Ub("ngIf",!i.signupForm.get("confirmPass").valid&&i.signupForm.get("confirmPass").dirty),u.xb(2),u.Ub("disabled",!i.signupForm.valid))},directives:[r.i,t.k,t.h,t.f,t.a,t.g,t.d,c.a],encapsulation:2}),v),y=o("BpHE"),J=o("PCNd"),K=((h=function i(){n(this,i)}).\u0275mod=u.Fb({type:h}),h.\u0275inj=u.Eb({factory:function(n){return new(n||h)},imports:[[r.b,t.i,J.a,s.f.forChild([{path:"",component:w,canActivate:[y.a]}])]]}),h)}}])}();