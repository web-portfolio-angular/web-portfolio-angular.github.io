!function(){function n(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function i(n,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{T9iC:function(e,a,o){"use strict";o.r(a),o.d(a,"SignupModule",(function(){return K}));var r=o("ofXK"),s=o("3Pt+"),t=o("tyNb"),b=o("fXoL"),u=o("IYfF"),c=o("zy28");function l(n,i){1&n&&(b.Kb(0,"div",12),b.Ib(1,"app-loading-spinner"),b.Jb())}function m(n,i){if(1&n&&(b.Kb(0,"p"),b.bc(1),b.Jb()),2&n){var e=b.Tb();b.xb(1),b.cc(e.errorMsg)}}function p(n,i){1&n&&(b.Kb(0,"span"),b.bc(1,"Please enter your name!"),b.Jb())}function d(n,i){1&n&&(b.Kb(0,"span"),b.bc(1,"Please enter a valid email!"),b.Jb())}function f(n,i){1&n&&(b.Kb(0,"span"),b.bc(1,"The password should be between 8 and 30 symbols!"),b.Jb())}function g(n,i){1&n&&(b.Kb(0,"span"),b.bc(1,"The passwords do not match!"),b.Jb())}var v,h,w=((v=function(){function e(i,a,o){n(this,e),this.authService=i,this.router=a,this.formBuilder=o,this.errorMsg=null,this.isLoading=!1}var a,o,r;return a=e,(o=[{key:"ngOnInit",value:function(){this.signupForm=this.formBuilder.group({name:new s.c(null,[s.j.required,s.j.minLength(3),s.j.maxLength(30)]),email:new s.c(null,[s.j.required,s.j.email]),password:new s.c(null,[s.j.required,s.j.minLength(8),s.j.maxLength(30)]),confirmPass:new s.c(null,[s.j.required,s.j.minLength(8),s.j.maxLength(30)])},{validator:this.mustMatch("password","confirmPass")})}},{key:"mustMatch",value:function(n,i){return function(e){var a=e.controls[i];a.setErrors(e.controls[n].value!==a.value?{mustMatch:!0}:null)}}},{key:"onSubmit",value:function(n){var i=this;if(this.isLoading=!0,!n.valid)return this.isLoading=!1,void(this.isLoading=!1);var e=n.value.name,a=n.value.email;this.authService.signUp(a,n.value.password).subscribe((function(){i.authService.signUpAdditionalData(e,a).subscribe(),i.errorMsg=null,i.router.navigate(["/home"]),i.isLoading=!1}),(function(n){i.errorMsg=n,i.isLoading=!1}))}}])&&i(a.prototype,o),r&&i(a,r),e}()).\u0275fac=function(n){return new(n||v)(b.Hb(u.a),b.Hb(t.c),b.Hb(s.b))},v.\u0275cmp=b.Bb({type:v,selectors:[["app-signup"]],decls:27,vars:9,consts:[["class","loading-spinner",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["for","name"],["type","text","name","name","formControlName","name"],["for","email"],["type","text","name","email","formControlName","email"],["for","password"],["type","password","name","password","formControlName","password"],["for","confirmPass"],["type","password","name","confirmPass","formControlName","confirmPass",3,"className"],["type","submit",3,"disabled"],[1,"loading-spinner"]],template:function(n,i){1&n&&(b.Kb(0,"div"),b.ac(1,l,2,0,"div",0),b.ac(2,m,2,1,"p",1),b.Kb(3,"form",2),b.Rb("ngSubmit",(function(){return i.onSubmit(i.signupForm)})),b.Kb(4,"div"),b.Kb(5,"label",3),b.bc(6,"Name"),b.Jb(),b.Ib(7,"input",4),b.ac(8,p,2,0,"span",1),b.Jb(),b.Kb(9,"div"),b.Kb(10,"label",5),b.bc(11,"Email"),b.Jb(),b.Ib(12,"input",6),b.ac(13,d,2,0,"span",1),b.Jb(),b.Kb(14,"div"),b.Kb(15,"label",7),b.bc(16,"Password"),b.Jb(),b.Ib(17,"input",8),b.ac(18,f,2,0,"span",1),b.Jb(),b.Kb(19,"div"),b.Kb(20,"label",9),b.bc(21,"Confirm Password"),b.Jb(),b.Ib(22,"input",10),b.ac(23,g,2,0,"span",1),b.Jb(),b.Kb(24,"div"),b.Kb(25,"button",11),b.bc(26,"Signup"),b.Jb(),b.Jb(),b.Jb(),b.Jb()),2&n&&(b.xb(1),b.Ub("ngIf",i.isLoading),b.xb(1),b.Ub("ngIf",i.errorMsg),b.xb(1),b.Ub("formGroup",i.signupForm),b.xb(5),b.Ub("ngIf",!i.signupForm.get("name").valid&&i.signupForm.get("name").touched),b.xb(5),b.Ub("ngIf",!i.signupForm.get("email").valid&&i.signupForm.get("email").touched),b.xb(5),b.Ub("ngIf",!i.signupForm.get("password").valid&&i.signupForm.get("password").touched),b.xb(4),b.Ub("className",!i.signupForm.get("confirmPass").valid&&i.signupForm.get("confirmPass").dirty?"invalid":""),b.xb(1),b.Ub("ngIf",!i.signupForm.get("confirmPass").valid&&i.signupForm.get("confirmPass").dirty),b.xb(2),b.Ub("disabled",!i.signupForm.valid))},directives:[r.i,s.k,s.h,s.f,s.a,s.g,s.d,c.a],encapsulation:2}),v),y=o("BpHE"),J=o("PCNd"),K=((h=function i(){n(this,i)}).\u0275mod=b.Fb({type:h}),h.\u0275inj=b.Eb({factory:function(n){return new(n||h)},imports:[[r.b,s.i,J.a,t.f.forChild([{path:"",component:w,canActivate:[y.a]}])]]}),h)}}])}();