!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{UyQ7:function(n,o,i){"use strict";i.r(o),i.d(o,"CommentsModule",(function(){return v}));var r=i("ofXK"),a=i("3Pt+"),c=i("tyNb"),b=i("fXoL"),m=i("T/S4"),s=i("IYfF");function u(t,e){if(1&t&&(b.Lb(0,"div",6),b.Lb(1,"div",7),b.Lb(2,"p",8),b.ec(3),b.Kb(),b.Lb(4,"p",9),b.ec(5),b.Vb(6,"date"),b.Vb(7,"date"),b.Kb(),b.Kb(),b.Lb(8,"div",10),b.ec(9),b.Kb(),b.Kb()),2&t){var n=e.$implicit;b.yb(3),b.gc(" ",n.name," "),b.yb(2),b.hc(" ",b.Wb(6,4,n.date,"dd.MM.yyyy")," at ",b.Wb(7,7,n.date,"HH:mm")," "),b.yb(4),b.gc(" ",n.comment," ")}}function d(t,e){1&t&&(b.Lb(0,"div",11),b.Jb(1,"hr",12),b.Lb(2,"p"),b.ec(3,"Please Sign in to add your comment!"),b.Kb(),b.Kb())}function f(t,e){if(1&t){var n=b.Mb();b.Lb(0,"form",13),b.Sb("ngSubmit",(function(){b.ac(n);var t=b.Ub();return t.onSubmit(t.postForm)})),b.Jb(1,"hr",12),b.Lb(2,"div"),b.Jb(3,"textarea",14),b.Kb(),b.Lb(4,"div"),b.Lb(5,"button",15),b.ec(6,"Add your comment"),b.Kb(),b.Kb(),b.Kb()}if(2&t){var o=b.Ub();b.Xb("formGroup",o.postForm),b.yb(5),b.Xb("disabled",!o.postForm.valid)}}var l,p,h=((p=function(){function n(e,o,i){t(this,n),this.firestore=e,this.formBuilder=o,this.authService=i,this.isAuth=!1}var o,i,r;return o=n,(i=[{key:"ngOnInit",value:function(){var t=this;this.subUser=this.authService.user.subscribe((function(e){t.isAuth=!!e})),this.firestore.getComments().subscribe((function(e){t.comments=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())}))})),this.postForm=this.formBuilder.group({commentArea:new a.c(null,a.k.required)})}},{key:"ngOnDestroy",value:function(){this.subUser.unsubscribe()}},{key:"onSubmit",value:function(t){if(this.postForm.valid){var e=JSON.parse(localStorage.getItem("userAdditionalData"));if(e){var n=e[0].name,o=(new Date).toLocaleString();this.firestore.createComment({name:n,date:o,comment:t.value.commentArea}),this.postForm.reset()}}}}])&&e(o.prototype,i),r&&e(o,r),n}()).\u0275fac=function(t){return new(t||p)(b.Ib(m.a),b.Ib(a.b),b.Ib(s.a))},p.\u0275cmp=b.Cb({type:p,selectors:[["app-comments"]],decls:8,vars:3,consts:[[1,"container"],[1,"comments-container"],[1,"comments-count"],["class","comment",4,"ngFor","ngForOf"],["class","comments-auth",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"comment"],[1,"comment-header"],[1,"comment-name"],[1,"comment-date"],[1,"comment-content"],[1,"comments-auth"],[1,"hr-border"],[3,"formGroup","ngSubmit"],["placeholder","Type your comment...","formControlName","commentArea",1,"comments-textarea"],["type","submit",1,"btn-default","btn-default-center",3,"disabled"]],template:function(t,e){1&t&&(b.Lb(0,"div",0),b.Lb(1,"div",1),b.Lb(2,"p",2),b.ec(3,"Comments (number):"),b.Kb(),b.Lb(4,"div"),b.dc(5,u,10,10,"div",3),b.Kb(),b.dc(6,d,4,0,"div",4),b.dc(7,f,7,2,"form",5),b.Kb(),b.Kb()),2&t&&(b.yb(5),b.Xb("ngForOf",e.comments),b.yb(1),b.Xb("ngIf",!e.isAuth),b.yb(1),b.Xb("ngIf",e.isAuth))},directives:[r.i,r.j,a.l,a.h,a.f,a.a,a.g,a.d],pipes:[r.d],encapsulation:2}),p),v=((l=function e(){t(this,e)}).\u0275mod=b.Gb({type:l}),l.\u0275inj=b.Fb({factory:function(t){return new(t||l)},imports:[[r.b,a.j,c.f.forChild([{path:"",component:h}])]]}),l)}}])}();