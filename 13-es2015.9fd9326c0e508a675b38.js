(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{T9iC:function(n,i,s){"use strict";s.r(i),s.d(i,"SignupModule",(function(){return v}));var a=s("ofXK"),e=s("3Pt+"),r=s("tyNb"),t=s("fXoL"),o=s("IYfF"),b=s("zy28");function u(n,i){1&n&&t.Ib(0,"app-loading-spinner")}function m(n,i){if(1&n&&(t.Kb(0,"p"),t.bc(1),t.Jb()),2&n){const n=t.Tb();t.xb(1),t.cc(n.errorMsg)}}function c(n,i){1&n&&(t.Kb(0,"span"),t.bc(1,"Please enter your name!"),t.Jb())}function l(n,i){1&n&&(t.Kb(0,"span"),t.bc(1,"Please enter a valid email!"),t.Jb())}function p(n,i){1&n&&(t.Kb(0,"span"),t.bc(1,"The password should be between 8 and 30 symbols!"),t.Jb())}function d(n,i){1&n&&(t.Kb(0,"span"),t.bc(1,"The passwords do not match!"),t.Jb())}let g=(()=>{class n{constructor(n,i,s){this.authService=n,this.router=i,this.formBuilder=s,this.errorMsg=null,this.isLoading=!1}ngOnInit(){this.signupForm=this.formBuilder.group({name:new e.c(null,[e.j.required,e.j.minLength(3),e.j.maxLength(30)]),email:new e.c(null,[e.j.required,e.j.email]),password:new e.c(null,[e.j.required,e.j.minLength(8),e.j.maxLength(30)]),confirmPass:new e.c(null,[e.j.required,e.j.minLength(8),e.j.maxLength(30)])},{validator:this.mustMatch("password","confirmPass")})}mustMatch(n,i){return s=>{const a=s.controls[i];a.setErrors(s.controls[n].value!==a.value?{mustMatch:!0}:null)}}onSubmit(n){if(this.isLoading=!0,!n.valid)return this.isLoading=!1,void(this.isLoading=!1);const i=n.value.name,s=n.value.email;this.authService.signUp(s,n.value.password).subscribe(()=>{this.authService.signUpAdditionalData(i,s).subscribe(),this.errorMsg=null,this.router.navigate(["/home"]),this.isLoading=!1},n=>{this.errorMsg=n,this.isLoading=!1})}}return n.\u0275fac=function(i){return new(i||n)(t.Hb(o.a),t.Hb(r.c),t.Hb(e.b))},n.\u0275cmp=t.Bb({type:n,selectors:[["app-signup"]],decls:27,vars:9,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["for","name"],["type","text","name","name","formControlName","name"],["for","email"],["type","text","name","email","formControlName","email"],["for","password"],["type","password","name","password","formControlName","password"],["for","confirmPass"],["type","password","name","confirmPass","formControlName","confirmPass",3,"className"],["type","submit",3,"disabled"]],template:function(n,i){1&n&&(t.Kb(0,"div"),t.ac(1,u,1,0,"app-loading-spinner",0),t.ac(2,m,2,1,"p",0),t.Kb(3,"form",1),t.Rb("ngSubmit",(function(){return i.onSubmit(i.signupForm)})),t.Kb(4,"div"),t.Kb(5,"label",2),t.bc(6,"Name"),t.Jb(),t.Ib(7,"input",3),t.ac(8,c,2,0,"span",0),t.Jb(),t.Kb(9,"div"),t.Kb(10,"label",4),t.bc(11,"Email"),t.Jb(),t.Ib(12,"input",5),t.ac(13,l,2,0,"span",0),t.Jb(),t.Kb(14,"div"),t.Kb(15,"label",6),t.bc(16,"Password"),t.Jb(),t.Ib(17,"input",7),t.ac(18,p,2,0,"span",0),t.Jb(),t.Kb(19,"div"),t.Kb(20,"label",8),t.bc(21,"Confirm Password"),t.Jb(),t.Ib(22,"input",9),t.ac(23,d,2,0,"span",0),t.Jb(),t.Kb(24,"div"),t.Kb(25,"button",10),t.bc(26,"Signup"),t.Jb(),t.Jb(),t.Jb(),t.Jb()),2&n&&(t.xb(1),t.Ub("ngIf",i.isLoading),t.xb(1),t.Ub("ngIf",i.errorMsg),t.xb(1),t.Ub("formGroup",i.signupForm),t.xb(5),t.Ub("ngIf",!i.signupForm.get("name").valid&&i.signupForm.get("name").touched),t.xb(5),t.Ub("ngIf",!i.signupForm.get("email").valid&&i.signupForm.get("email").touched),t.xb(5),t.Ub("ngIf",!i.signupForm.get("password").valid&&i.signupForm.get("password").touched),t.xb(4),t.Ub("className",!i.signupForm.get("confirmPass").valid&&i.signupForm.get("confirmPass").dirty?"invalid":""),t.xb(1),t.Ub("ngIf",!i.signupForm.get("confirmPass").valid&&i.signupForm.get("confirmPass").dirty),t.xb(2),t.Ub("disabled",!i.signupForm.valid))},directives:[a.i,e.k,e.h,e.f,e.a,e.g,e.d,b.a],encapsulation:2}),n})();var f=s("BpHE"),h=s("PCNd");let v=(()=>{class n{}return n.\u0275mod=t.Fb({type:n}),n.\u0275inj=t.Eb({factory:function(i){return new(i||n)},imports:[[a.b,e.i,h.a,r.f.forChild([{path:"",component:g,canActivate:[f.a]}])]]}),n})()}}]);