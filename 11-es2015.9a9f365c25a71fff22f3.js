(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5YEq":function(t,e,a){"use strict";a.r(e),a.d(e,"SellCarModule",(function(){return g}));var i=a("ofXK"),n=a("tyNb"),s=a("fXoL"),r=a("Vaw3");function l(t,e){if(1&t&&(s.Qb(0,"p",6),s.tc(1),s.Pb()),2&t){const t=s.Zb();s.Ab(1),s.uc(t.errorMsgOnUpload)}}let o=(()=>{class t{constructor(t){this.angularFireStorage=t,this.defaultUploadImg="../assets/img/cell-car/upload-img.png",this.imgLocalPath=this.defaultUploadImg,this.imgURL=null,this.errorMsgOnUpload=null}ngOnInit(){}uploadImg(t){if(this.file=t.target.files[0],this.file){const e=new FileReader;e.onload=t=>{this.imgLocalPath=t.target.result},e.readAsDataURL(t.target.files[0]),this.imgName=this.file.name.substr(0,this.file.name.lastIndexOf("."))}else this.imgLocalPath=this.defaultUploadImg}uploadImgToFirestorage(){this.angularFireStorage.upload("/cellCar/"+this.imgName+"-"+Math.random().toString(36).substring(2),this.file).then(t=>{t.ref.getDownloadURL().then(t=>{this.imgURL=t}),this.errorMsgOnUpload=null}).catch(t=>{this.errorMsgOnUpload=t.message})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(r.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-sell-car"]],decls:9,vars:3,consts:[["type","file","accept",".png,.jpg,.jpeg,.svg,.heic",2,"display","none",3,"change"],["chooseImg",""],[1,"img",3,"src"],[3,"click"],[3,"disabled","click"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(t,e){if(1&t){const t=s.Rb();s.Qb(0,"input",0,1),s.Xb("change",(function(t){return e.uploadImg(t)})),s.Pb(),s.Mb(2,"img",2),s.Mb(3,"br"),s.Qb(4,"button",3),s.Xb("click",(function(){return s.mc(t),s.lc(1).click()})),s.tc(5,"Chose image"),s.Pb(),s.Qb(6,"button",4),s.Xb("click",(function(){return e.uploadImgToFirestorage()})),s.tc(7,"Upload Image"),s.Pb(),s.sc(8,l,2,1,"p",5)}2&t&&(s.Ab(2),s.fc("src",e.imgLocalPath,s.nc),s.Ab(4),s.fc("disabled",null==e.file),s.Ab(2),s.fc("ngIf",e.errorMsgOnUpload))},directives:[i.l],encapsulation:2}),t})();var c=a("2CTM");let g=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},imports:[[i.c,n.e.forChild([{path:"",component:o,canActivate:[c.a]}])]]}),t})()}}]);