(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5YEq":function(e,t,a){"use strict";a.r(t),a.d(t,"SellCarModule",(function(){return g}));var i=a("ofXK"),n=a("tyNb"),r=a("fXoL"),s=a("Vaw3");function l(e,t){if(1&e&&(r.Qb(0,"p",6),r.qc(1),r.Pb()),2&e){const e=r.Zb();r.Ab(1),r.rc(e.errorMsgOnUpload)}}let o=(()=>{class e{constructor(e){this.angularFireStorage=e,this.defaultUploadImg="../assets/img/cell-car/upload-img.png",this.imgLocalPath=this.defaultUploadImg,this.imgURL=null,this.errorMsgOnUpload=null}ngOnInit(){}uploadImg(e){if(this.file=e.target.files[0],this.file){const t=new FileReader;t.onload=e=>{this.imgLocalPath=e.target.result},t.readAsDataURL(e.target.files[0]),this.imgName=this.file.name.substr(0,this.file.name.lastIndexOf("."))}else this.imgLocalPath=this.defaultUploadImg}uploadImgToFirestorage(){this.angularFireStorage.upload("/cellCar/"+this.imgName+"-"+Math.random().toString(36).substring(2),this.file).then(e=>{e.ref.getDownloadURL().then(e=>{this.imgURL=e}),this.errorMsgOnUpload=null}).catch(e=>{this.errorMsgOnUpload=e.message})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(s.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-sell-car"]],decls:9,vars:3,consts:[["type","file","accept",".png,.jpg,.jpeg,.svg,.heic",2,"display","none",3,"change"],["chooseImg",""],[1,"img",3,"src"],[3,"click"],[3,"disabled","click"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(e,t){if(1&e){const e=r.Rb();r.Qb(0,"input",0,1),r.Xb("change",(function(e){return t.uploadImg(e)})),r.Pb(),r.Mb(2,"img",2),r.Mb(3,"br"),r.Qb(4,"button",3),r.Xb("click",(function(){return r.jc(e),r.ic(1).click()})),r.qc(5,"Chose image"),r.Pb(),r.Qb(6,"button",4),r.Xb("click",(function(){return t.uploadImgToFirestorage()})),r.qc(7,"Upload Image"),r.Pb(),r.pc(8,l,2,1,"p",5)}2&e&&(r.Ab(2),r.ec("src",t.imgLocalPath,r.kc),r.Ab(4),r.ec("disabled",null==t.file),r.Ab(2),r.ec("ngIf",t.errorMsgOnUpload))},directives:[i.k],encapsulation:2}),e})();var c=a("2CTM");let g=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[i.b,n.e.forChild([{path:"",component:o,canActivate:[c.a]}])]]}),e})()}}]);