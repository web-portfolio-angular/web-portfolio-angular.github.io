(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5YEq":function(t,e,a){"use strict";a.r(e),a.d(e,"SellCarModule",(function(){return g}));var i=a("ofXK"),n=a("tyNb"),r=a("fXoL"),s=a("Vaw3");function l(t,e){if(1&t&&(r.Qb(0,"p",6),r.uc(1),r.Pb()),2&t){const t=r.Zb();r.Ab(1),r.vc(t.errorMsgOnUpload)}}let o=(()=>{class t{constructor(t){this.angularFireStorage=t,this.defaultUploadImg="../assets/img/cell-car/upload-img.png",this.imgLocalPath=this.defaultUploadImg,this.imgURL=null,this.errorMsgOnUpload=null}ngOnInit(){}uploadImg(t){if(this.file=t.target.files[0],this.file){const e=new FileReader;e.onload=t=>{this.imgLocalPath=t.target.result},e.readAsDataURL(t.target.files[0]),this.imgName=this.file.name.substr(0,this.file.name.lastIndexOf("."))}else this.imgLocalPath=this.defaultUploadImg}uploadImgToFirestorage(){this.angularFireStorage.upload("/cellCar/"+this.imgName+"-"+Math.random().toString(36).substring(2),this.file).then(t=>{t.ref.getDownloadURL().then(t=>{this.imgURL=t}),this.errorMsgOnUpload=null}).catch(t=>{this.errorMsgOnUpload=t.message})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(s.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-sell-car"]],decls:9,vars:3,consts:[["type","file","accept",".png,.jpg,.jpeg,.svg,.heic",2,"display","none",3,"change"],["chooseImg",""],[1,"img",3,"src"],[3,"click"],[3,"disabled","click"],["class","error-msg",4,"ngIf"],[1,"error-msg"]],template:function(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",0,1),r.Xb("change",(function(t){return e.uploadImg(t)})),r.Pb(),r.Mb(2,"img",2),r.Mb(3,"br"),r.Qb(4,"button",3),r.Xb("click",(function(){return r.nc(t),r.lc(1).click()})),r.uc(5,"Chose image"),r.Pb(),r.Qb(6,"button",4),r.Xb("click",(function(){return e.uploadImgToFirestorage()})),r.uc(7,"Upload Image"),r.Pb(),r.tc(8,l,2,1,"p",5)}2&t&&(r.Ab(2),r.fc("src",e.imgLocalPath,r.oc),r.Ab(4),r.fc("disabled",null==e.file),r.Ab(2),r.fc("ngIf",e.errorMsgOnUpload))},directives:[i.l],encapsulation:2}),t})();var c=a("2CTM");let g=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,n.e.forChild([{path:"",component:o,canActivate:[c.a]}])]]}),t})()}}]);